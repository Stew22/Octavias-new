unit frm_Reset_Password_U;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, Vcl.StdCtrls, Vcl.ExtCtrls,
  System.ImageList, Vcl.ImgList,DM_Users;

type
  Tfrmresetpassword = class(TForm)
    pnl1: TPanel;
    pnl2: TPanel;
    edtnewpword: TEdit;
    edtnewpwordcheck: TEdit;
    edtusername: TEdit;
    lbl1: TLabel;
    lbl2: TLabel;
    lbl3: TLabel;
    lbl4: TLabel;
    pnl3: TPanel;
    il1: TImageList;
    btnchangepword: TButton;
    btncancel: TButton;
    procedure btncancelClick(Sender: TObject);
    procedure FormActivate(Sender: TObject);
    procedure btnchangepwordClick(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  frmresetpassword: Tfrmresetpassword;

implementation

{$R *.dfm}

procedure Tfrmresetpassword.btncancelClick(Sender: TObject);
begin
 //here we will clear all fields and close the form
 edtnewpword.Clear;
 edtnewpwordcheck.Clear;
 edtusername.Clear;
 //
 frmresetpassword.Close;
end;

procedure Tfrmresetpassword.btnchangepwordClick(Sender: TObject);
begin
 with DataModuleUsers do
 begin
   if tblusers.Active = True then
   begin
    tblusers.Filtered:=False;
    tblusers.Filter := 'Username = ' + QuotedStr(edtusername.Text);
    tblusers.Filtered:=True;
    //here we will need to check that the username exists
    //then we will reset the password
    //




   end;
 end;
end;

procedure Tfrmresetpassword.FormActivate(Sender: TObject);
begin
 edtusername.SetFocus;
end;

end.
